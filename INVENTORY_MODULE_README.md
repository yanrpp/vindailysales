# ЁЯУж Inventory Management Module

р╣Вр╕бр╕Фр╕╣р╕ер╕нр╕┤р╕кр╕гр╕░р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Бр╕ер╕░р╕кр╕Хр╣Зр╕нр╕Б р╣Бр╕вр╕Бр╕нр╕нр╕Бр╕Ир╕▓р╕Бр╕гр╕░р╕Ър╕Ъ Daily Sales Management

## ЁЯПЧя╕П р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕З

### Database Tables
- `products` - р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕┤р╕Щр╕Др╣Йр╕▓ (product_code, description, um, cost)
- `product_lots` - р╕Вр╣Йр╕нр╕бр╕╣р╕е lot р╕Вр╕нр╕Зр╕кр╕┤р╕Щр╕Др╣Йр╕▓ (product_id, lot_no, exp)
- `product_stock_records` - р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕кр╕Хр╣Зр╕нр╕Бр╕кр╕┤р╕Щр╕Др╣Йр╕▓ (lot_id, report_date, qty, store_location)

### API Endpoints
- `POST /api/upload-inventory` - р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Др╕Яр╕ер╣М Excel р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕┤р╕Щр╕Др╣Йр╕▓
- `GET /api/inventory/products` - р╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕┤р╕Щр╕Др╣Йр╕▓ + Lot
- `GET /api/inventory/non-moving` - р╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Др╣Йр╕▓р╕Зр╕кр╕Хр╣Кр╕нр╕Б 6 р╣Ар╕Фр╕╖р╕нр╕Щ
- `GET /api/inventory/expired` - р╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕лр╕бр╕Фр╕нр╕▓р╕вр╕╕

### Pages
- `/inventory` - Dashboard р╕ар╕▓р╕Юр╕гр╕зр╕б
- `/upload-inventory` - р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Др╕Яр╕ер╣Мр╕кр╕┤р╕Щр╕Др╣Йр╕▓
- `/inventory/products` - р╣Бр╕кр╕Фр╕Зр╕кр╕┤р╕Щр╕Др╣Йр╕▓ + Lot
- `/inventory/non-moving` - р╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Др╣Йр╕▓р╕Зр╕кр╕Хр╣Кр╕нр╕Б 6 р╣Ар╕Фр╕╖р╕нр╕Щ
- `/inventory/expired` - р╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕лр╕бр╕Фр╕нр╕▓р╕вр╕╕

## ЁЯУЛ р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### 1. Setup Database
р╕гр╕▒р╕Щ SQL migration р╣Гр╕Щ Supabase:
```sql
-- р╣Др╕Яр╕ер╣М: supabase-migrations/create_inventory_tables.sql
```

### 2. р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Др╕Яр╕ер╣Мр╕кр╕┤р╕Щр╕Др╣Йр╕▓
1. р╣Др╕Ыр╕Чр╕╡р╣И `/upload-inventory`
2. р╣Ар╕ер╕╖р╕нр╕Бр╣Др╕Яр╕ер╣М Excel (.xlsx)
3. р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╕лр╕ер╕▓р╕вр╣Др╕Яр╕ер╣Мр╕Юр╕гр╣Йр╕нр╕бр╕Бр╕▒р╕Щ
4. р╕гр╕░р╕Ър╕Ър╕Ир╕░ parse р╣Бр╕ер╕░р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤

### 3. р╕Фр╕╣р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕┤р╕Щр╕Др╣Йр╕▓
- **Dashboard**: `/inventory` - р╕ар╕▓р╕Юр╕гр╕зр╕бр╕кр╕Цр╕┤р╕Хр╕┤р╕кр╕┤р╕Щр╕Др╣Йр╕▓
- **р╕кр╕┤р╕Щр╕Др╣Йр╕▓ + LOT**: `/inventory/products` - р╣Бр╕кр╕Фр╕Зр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Юр╕гр╣Йр╕нр╕б lot р╣Бр╕ер╕░р╕вр╕нр╕Фр╕Др╕Зр╣Ар╕лр╕ер╕╖р╕н
- **р╕Др╣Йр╕▓р╕Зр╕кр╕Хр╣Кр╕нр╕Б 6 р╣Ар╕Фр╕╖р╕нр╕Щ**: `/inventory/non-moving` - р╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕бр╕╡р╕Бр╕▓р╕гр╣Ар╕Др╕ер╕╖р╣Ир╕нр╕Щр╣Др╕лр╕з
- **р╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕лр╕бр╕Фр╕нр╕▓р╕вр╕╕**: `/inventory/expired` - р╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Чр╕╡р╣И exp < CURRENT_DATE

## ЁЯУК р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М Excel

### Format р╕Чр╕╡р╣Ир╕гр╕нр╕Зр╕гр╕▒р╕Ъ:
- **р╣Бр╕Цр╕з A row2**: р╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╕гр╕▓р╕вр╕Зр╕▓р╕Щ (report_date)
- **р╕кр╕╡р╣Ар╕Вр╕╡р╕вр╕з (р╕гр╕лр╕▒р╕кр╕кр╕┤р╕Щр╕Др╣Йр╕▓)**: 
  - Column A: product_code
  - Column B: description
  - Column C: um (Unit of Measure)
  - Column D: cost
- **р╣Бр╕Цр╕з lot**: 
  - Column A: lot_no (6 р╕лр╕ер╕▒р╕Б DDMMYY)
  - Column F: qty (р╕Ир╕│р╕Щр╕зр╕Щ)
  - Column G: store_location (р╕кр╕Цр╕▓р╕Щр╕Чр╕╡р╣Ир╣Ар╕Бр╣Зр╕Ъ)

### р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З:
```
Row 1: [Report Date: 2025-01-15]
Row 2: [XA11SETDR1, BASIC DRESSING PACK..., SE, 1.00]
Row 3: [030523, ..., 12, D5 р╕лр╣Йр╕нр╕Зр╕вр╕▓р╕нр╕▓р╕Др╕▓р╕г 5]
```

## ЁЯФз Technical Details

### Parse Logic
- р╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╣Бр╕Цр╕зр╕кр╕┤р╕Щр╕Др╣Йр╕▓: colA р╣Ар╕Ыр╣Зр╕Щ string р╕вр╕▓р╕зр╕Бр╕зр╣Ир╕▓ 3 р╕Хр╕▒р╕зр╕нр╕▒р╕Бр╕йр╕г + р╕бр╕╡р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕Щ column C
- р╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ъ lot: colA р╣Ар╕Ыр╣Зр╕Щр╕Хр╕▒р╕зр╣Ар╕ер╕В 6 р╕лр╕ер╕▒р╕Б (DDMMYY)
- р╣Бр╕Ыр╕ер╕З lot_no р╣Ар╕Ыр╣Зр╕Щ expiry date: `20YY-MM-DD`

### Data Flow
1. Upload Excel тЖТ Parse тЖТ Extract records
2. Upsert products (onConflict: product_code)
3. Upsert product_lots (onConflict: product_id, lot_no)
4. Insert product_stock_records

## ЁЯЪА Features

тЬЕ р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╕лр╕ер╕▓р╕вр╣Др╕Яр╕ер╣Мр╕Юр╕гр╣Йр╕нр╕бр╕Бр╕▒р╕Щ  
тЬЕ Auto-detect product р╣Бр╕ер╕░ lot  
тЬЕ Dashboard р╕ар╕▓р╕Юр╕гр╕зр╕б  
тЬЕ р╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Др╣Йр╕▓р╕Зр╕кр╕Хр╣Кр╕нр╕Б 6 р╣Ар╕Фр╕╖р╕нр╕Щ  
тЬЕ р╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕лр╕бр╕Фр╕нр╕▓р╕вр╕╕  
тЬЕ Search р╣Бр╕ер╕░ filter  
тЬЕ Responsive UI  

## ЁЯУЭ Notes

- р╣Вр╕бр╕Фр╕╣р╕ер╕Щр╕╡р╣Йр╣Бр╕вр╕Бр╕нр╕нр╕Бр╕Ир╕▓р╕Бр╕гр╕░р╕Ър╕Ъ Daily Sales Management р╕нр╕вр╣Ир╕▓р╕Зр╕кр╕бр╕Ър╕╣р╕гр╕Ур╣М
- р╣Гр╕Кр╣Йр╕Хр╕▓р╕гр╕▓р╕З database р╣Бр╕вр╕Бр╕Хр╣Ир╕▓р╕Зр╕лр╕▓р╕Б
- API endpoints р╣Бр╕вр╕Бр╕Хр╣Ир╕▓р╕Зр╕лр╕▓р╕Б
- UI/UX р╣Бр╕вр╕Бр╕Хр╣Ир╕▓р╕Зр╕лр╕▓р╕Б

